(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{1512:(e,o,t)=>{"use strict";t.d(o,{A:()=>i});let i={src:"/_next/static/media/noHeartIcon.698c5b22.svg",height:512,width:512,blurWidth:0,blurHeight:0}},2566:e=>{e.exports={style:{fontFamily:"'Nunito', 'Nunito Fallback'",fontWeight:600,fontStyle:"normal"},className:"__className_3c3100"}},4325:(e,o,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/producto/[id]",function(){return t(6503)}])},6503:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>M,nunito:()=>g.a});var i=t(7876),l=t(9099),c=t(4232),n=t(3368),r=t(8684),s=t(4587),d=t.n(s),a=t(3509),u=t(4663),h=t(1512),p=t(2566),g=t.n(p),f=t(6599),b=t(9018),x=t(7095),m=t(9468),y=t(7133),w=t(4236),k=t(3504);let C=()=>{let e=(0,l.useRouter)(),[o,t]=(0,c.useState)(!1),[n,r]=(0,c.useState)(),[s,d]=(0,c.useState)(""),{id:a}=e.query,[p,g]=(0,c.useState)(0),[C,M]=(0,c.useState)(),O=y.A.getState().isLogged,R=y.A.getState().loggedUser,T=null==C?void 0:C.find(e=>e.id_producto===(null==n?void 0:n.id)&&e.id_usuario===R.id),[U,q]=(0,c.useState)(T),[B,G]=(0,c.useState)(T?T.id:0);(0,c.useEffect)(()=>{(async()=>{try{let e=await (0,b.e)(a);e?r(e):console.error("Error: Datos de productos no v\xe1lidos.")}catch(e){console.error("Error fetching productos:",e)}})()},[a]),(0,c.useEffect)(()=>{q(T),G(T?T.id:0)},[T]),(0,c.useEffect)(()=>{O&&(async()=>{try{let e=await (0,w.sd)(R.id);e&&Array.isArray(e)?M(e):console.error("Error: Datos de productos no v\xe1lidos.")}catch(e){console.error("Error fetching productos:",e)}})()},[]),(0,c.useEffect)(()=>{let e=async()=>{try{if(null==n?void 0:n.imagen){let e=await (0,x.m)(null==n?void 0:n.imagen);d(e)}}catch(e){console.error("Error al cargar la imagen:",e)}};n&&e()},[null==n?void 0:n.imagen]);let V=e=>{1===e?1===p?g(0):g(1):2===e?2===p?g(0):g(2):3===e?3===p?g(0):g(3):4===e?4===p?g(0):g(4):5===e?5===p?g(0):g(5):6===e&&(6===p?g(0):g(6))},J=async()=>{if(O){if(U){if(B){q(!1),await (0,w.Uz)(B),q(!U),G(0),o||((0,k.l)("Producto eliminado de favoritos",{type:"success",position:"top-left",autoClose:3e3,theme:"colored"}),t(!0)),t(!1);return}}else if(!U){let e={id_usuario:R.id,id_producto:a},i=await (0,w.fs)(e);G(null==i?void 0:i.id),q(!0),o||((0,k.l)("Producto a\xf1adido a favoritos",{type:"success",position:"top-left",autoClose:3e3,theme:"colored"}),t(!0)),t(!1);return}}else o||((0,k.l)("Debes estar logueado",{type:"error",position:"top-left",autoClose:3e3,theme:"colored"}),t(!0)),t(!1)};return(0,i.jsxs)(_,{children:[(0,i.jsx)(v,{children:(0,i.jsx)(j,{src:s||m.A.src,alt:"",width:0,height:0})}),(0,i.jsxs)(A,{children:[(0,i.jsxs)(I,{children:[(0,i.jsx)(N,{children:null==n?void 0:n.nombre}),(0,i.jsx)(E,{src:U?u.A:h.A,alt:"",onClick:()=>J()})]}),(0,i.jsxs)(S,{children:[!(null==n?void 0:n.precio_descuento)&&(0,i.jsxs)(z,{children:[null==n?void 0:n.precio_descuento,"€"]}),(0,i.jsxs)(X,{className:(null==n?void 0:n.precio_descuento)?"":"noprice",children:[null==n?void 0:n.precio,"€"]}),(0,i.jsx)(L,{id:null==n?void 0:n.color})]}),(0,i.jsxs)(D,{children:[(0,i.jsx)(P,{onClick:()=>V(1),className:1==p?"selected":"",disabled:null==n||!n.talla_xs,children:"XS"}),(0,i.jsx)(P,{onClick:()=>V(2),className:2==p?"selected":"",disabled:null==n||!n.talla_s,children:"S"}),(0,i.jsx)(P,{onClick:()=>V(3),className:3==p?"selected":"",disabled:null==n||!n.talla_m,children:"M"}),(0,i.jsx)(P,{onClick:()=>V(4),className:4==p?"selected":"",disabled:null==n||!n.talla_l,children:"L"}),(0,i.jsx)(P,{onClick:()=>V(5),className:5==p?"selected":"",disabled:null==n||!n.talla_xl,children:"XL"}),(0,i.jsx)(P,{onClick:()=>V(6),className:6==p?"selected":"",disabled:null==n||!n.talla_xxl,children:"XXL"})]}),(0,i.jsxs)(H,{children:[(0,i.jsx)(W,{src:f.A,alt:""}),(0,i.jsx)(F,{onClick:()=>{(null==n?void 0:n.id)&&(p>0?(0,x.b)(O,n.id,R.id,p):(o||((0,k.l)("Debes seleccionar una talla",{type:"error",position:"top-left",autoClose:3e3,theme:"colored"}),t(!0)),t(!1)))},children:"A\xf1adir al carrito"})]})]})]})},_=r.Ay.div.withConfig({componentId:"sc-80bc3e42-0"})(["width:100%;display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:50px;padding:1.875rem;background-color:",";min-height:50rem;"],a.l.green),v=r.Ay.div.withConfig({componentId:"sc-80bc3e42-1"})([""]),A=r.Ay.div.withConfig({componentId:"sc-80bc3e42-2"})(["width:400px;display:flex;flex-direction:column;gap:30px;"]),j=(0,r.Ay)(d()).withConfig({componentId:"sc-80bc3e42-3"})(["width:100%;height:480px;"]),I=r.Ay.div.withConfig({componentId:"sc-80bc3e42-4"})(["display:flex;align-items:center;justify-content:space-between;"]),N=r.Ay.h2.withConfig({componentId:"sc-80bc3e42-5"})(["width:100%;text-align:center;font-size:40px;color:",";"],a.l.black),E=(0,r.Ay)(d()).withConfig({componentId:"sc-80bc3e42-6"})(["width:30px;height:30px;cursor:pointer;"]),S=r.Ay.div.withConfig({componentId:"sc-80bc3e42-7"})(["display:flex;align-items:center;justify-content:space-between;"]),z=r.Ay.h2.withConfig({componentId:"sc-80bc3e42-8"})(["font-size:40px;color:red;"]),X=r.Ay.h2.withConfig({componentId:"sc-80bc3e42-9"})(["font-size:40px;&.noprice{text-decoration:line-through;}"]),L=r.Ay.div.withConfig({componentId:"sc-80bc3e42-10"})(["width:80px;height:25px;&#Rojo{border:2px solid ",";background-color:red;}&#Azul{border:2px solid ",";background-color:blue;}&#Negro{border:2px solid ",";background-color:black;}&#Verde{border:2px solid ",";background-color:green;}&#Marron{border:2px solid ",";background-color:brown;}&#Blanco{border:2px solid ",";background-color:white;}"],a.l.black,a.l.black,a.l.gray,a.l.black,a.l.black,a.l.gray),D=r.Ay.div.withConfig({componentId:"sc-80bc3e42-11"})(["display:flex;justify-content:space-between;"]),P=r.Ay.button.withConfig({componentId:"sc-80bc3e42-12"})(["border:0;background-color:",";font-size:40px;cursor:pointer;&.selected{text-decoration:underline;}"],a.l.green),H=r.Ay.button.withConfig({componentId:"sc-80bc3e42-13"})(["font-size:1.25rem;height:3rem;color:",";background-color:",";border:3px solid ",";align-self:center;width:25rem;cursor:pointer;display:flex;justify-content:center;align-items:center;gap:15px;"],a.l.white,a.l.darkGreen,a.l.black),W=(0,r.Ay)(d()).withConfig({componentId:"sc-80bc3e42-14"})(["width:25px;height:25px;filter:invert(100%);"]),F=r.Ay.h2.withConfig({componentId:"sc-80bc3e42-15"})(["font-size:25px;"]);C.getLayout=e=>(0,i.jsx)(n.A,{title:"",children:e});let M=C},6599:(e,o,t)=>{"use strict";t.d(o,{A:()=>i});let i={src:"/_next/static/media/basketIcon.8356508e.svg",height:512,width:576,blurWidth:0,blurHeight:0}}},e=>{var o=o=>e(e.s=o);e.O(0,[3,368,636,593,792],()=>o(4325)),_N_E=e.O()}]);