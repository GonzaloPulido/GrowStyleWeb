(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{5936:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var o=r(7876),i=r(4232),s=r(3368),n=r(8684),a=r(3509),c=r(4587),l=r.n(c),d=r(6051),p=r(4616),u=r(1416),f=r(9018),g=r(4236),h=r(7133);let y=()=>{let[e,t]=(0,i.useState)(!1),[r,s]=(0,i.useState)([]),[n,a]=(0,i.useState)(),c=h.A.getState().loggedUser,l=h.A.getState().isLogged,[y,j]=(0,i.useState)(""),[v,E]=(0,i.useState)(""),[C,S]=(0,i.useState)(""),[b,k]=(0,i.useState)();return(0,i.useEffect)(()=>{(()=>{let e=[...r];if("asc"===y?e.sort((e,t)=>e.precio-t.precio):"desc"===y&&e.sort((e,t)=>t.precio-e.precio),""!==v&&(e=e.filter(e=>e.color===v)),""!==C){let[t,r]=C.split("-").map(Number);e=e.filter(e=>e.precio>=t&&e.precio<=r)}k(e)})()},[y,v,C,r]),(0,i.useEffect)(()=>{l&&(async()=>{try{let e=await (0,g.sd)(c.id);e&&Array.isArray(e)?a(e):console.error("Error: Datos de productos no v\xe1lidos.")}catch(e){console.error("Error fetching productos:",e)}})(),(async()=>{try{let e=await (0,f.R)();e&&Array.isArray(e)?s(e):console.error("Error: Datos de productos no v\xe1lidos.")}catch(e){console.error("Error fetching productos:",e)}})()},[]),(0,o.jsxs)(x,{children:[e&&(0,o.jsx)(p.A,{isActive:e,onClose:()=>t(!1),setOrderBy:j,setColor:E,setPrice:S}),(0,o.jsxs)(m,{onClick:()=>t(!0),children:[(0,o.jsx)(w,{src:d.A,alt:""}),(0,o.jsx)(A,{children:"Filtros"})]}),(0,o.jsx)(_,{children:null==b?void 0:b.map(e=>{let{id:t,nombre:r,precio:i,precio_descuento:s,imagen:a}=e,l=null==n?void 0:n.find(e=>e.id_producto===t&&e.id_usuario===c.id);return"Tarjeta regalo"!=r&&s>0&&(0,o.jsx)(u.A,{id:t,imagen:a,nombre:r,precioDescuento:s,precio:i,isFav:l,favId:l?l.id:0},t)})})]})},x=n.Ay.main.withConfig({componentId:"sc-e91a31a1-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.875rem;background-color:",";min-height:50rem;"],a.l.green),m=n.Ay.div.withConfig({componentId:"sc-e91a31a1-1"})(["display:flex;gap:15px;align-items:center;justify-content:right;align-self:end;cursor:pointer;"]),w=(0,n.Ay)(l()).withConfig({componentId:"sc-e91a31a1-2"})(["width:25px;height:25px;"]),A=n.Ay.h2.withConfig({componentId:"sc-e91a31a1-3"})(["font-size:35px;"]),_=n.Ay.div.withConfig({componentId:"sc-e91a31a1-4"})(["display:flex;gap:50px;flex-wrap:wrap;justify-content:center;margin-top:50px;"]);y.getLayout=e=>(0,o.jsx)(s.A,{title:"",children:e});let j=y},8165:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/rebajas",function(){return r(5936)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[3,368,557,636,593,792],()=>t(8165)),_N_E=e.O()}]);